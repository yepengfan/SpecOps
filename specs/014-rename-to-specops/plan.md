# Implementation Plan: Rename to SpecOps

**Branch**: `014-rename-to-specops` | **Date**: 2026-02-23 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/014-rename-to-specops/spec.md`

## Summary

Rename the project from "SDD Cockpit" / "sdd-cockpit" to "SpecOps" / "spec-ops" across all UI, configuration, documentation, and spec files. The critical challenge is the IndexedDB database name migration — Dexie uses the database name passed to the constructor, so changing it creates a new empty database. The solution is to keep the same Dexie database name ("sdd-cockpit") internally for backwards compatibility, while renaming the class and all user-facing references. This avoids any data migration complexity entirely.

## Technical Context

**Language/Version**: TypeScript 5.x
**Primary Dependencies**: Next.js 16, React 19, Zustand 5, Dexie.js 4, shadcn/ui, Tailwind CSS 4, Anthropic SDK 0.78.x, react-markdown
**Storage**: IndexedDB via Dexie.js (client-side only)
**Testing**: Jest (unit + integration), Playwright (E2E)
**Target Platform**: Web (last 2 versions of Chrome, Firefox, Safari, Edge)
**Project Type**: Web application (Next.js App Router)
**Constraints**: Zero data loss for existing users, all tests must pass after rename

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Minimal Server, Secure API Proxy | PASS | No server changes. Rename is client/docs only. |
| II. Phase Gate Discipline | PASS | No phase gate logic changes. |
| III. Spec as Source of Truth | PASS | Spec documents updated with new name, content preserved. |
| IV. EARS Format for Requirements | PASS | No requirement format changes. |
| V. AI-Agent-Optimized Output | PASS | No export format changes. |
| VI. Simplicity and YAGNI | PASS | Keeping existing DB name internally is the simplest approach — avoids a migration entirely. |

No violations. No complexity tracking needed.

## Key Design Decision: IndexedDB Database Name

**Decision**: Keep the internal Dexie database name as `"sdd-cockpit"` in the `super()` call.

**Rationale**: Dexie identifies databases by the string passed to `super()`. Changing this string creates a brand-new empty database — existing data becomes invisible. The options are:

1. **Keep the same DB name internally** (chosen): Rename the class (`SpecOpsDatabase`), rename exports, but keep `super("sdd-cockpit")`. Zero migration needed. Existing data just works. Add a comment explaining why.

2. **Change DB name + write migration**: Open old DB, copy all tables to new DB, delete old DB. Complex, error-prone, adds code for a one-time operation that provides no user value. Violates YAGNI (Constitution Principle VI).

3. **Change DB name + use Dexie's `Dexie.exists()` + manual copy**: Same complexity as #2 with more Dexie API surface.

Option 1 is the clear winner — the database name is an internal implementation detail that users never see.

## Project Structure

### Documentation (this feature)

```text
specs/014-rename-to-specops/
├── plan.md              # This file
├── research.md          # Phase 0 output
├── data-model.md        # Phase 1 output (minimal — no new entities)
├── quickstart.md        # Phase 1 output
└── tasks.md             # Phase 2 output (/speckit.tasks)
```

### Source Code Changes (repository root)

```text
# Files to modify:
app/layout.tsx                          # US1: title + nav header text
lib/db/database.ts                      # US2: class name only (keep DB name)
package.json                            # US4: name field
CLAUDE.md                               # US3: guidelines header + feature refs
README.md                               # US3: project name + spec-kit alignment

# Spec documents to update (text content, not directory names):
specs/001-sdd-cockpit/plan.md           # US3: document titles/refs
specs/001-sdd-cockpit/data-model.md     # US3: document titles/refs
specs/001-sdd-cockpit/quickstart.md     # US3: document titles/refs + clone example
specs/001-sdd-cockpit/research.md       # US3: document titles/refs
specs/001-sdd-cockpit/tasks.md          # US3: document titles/refs
specs/001-sdd-cockpit/contracts/indexeddb-schema.md  # US3: DB name reference
specs/011-spec-score/quickstart.md      # US3: "SDD Cockpit" text reference

# Auto-updated (no manual edit):
package-lock.json                       # US4: regenerated by npm install
```

**Structure Decision**: Existing Next.js App Router structure unchanged. This feature modifies existing files only — no new source files created.

## File Change Summary

| File | Change Type | User Story | What Changes |
|------|-------------|------------|--------------|
| `app/layout.tsx` | Modify | US1 | `title: "SpecOps"`, nav link text `SpecOps`, description update |
| `lib/db/database.ts` | Modify | US2 | Rename class to `SpecOpsDatabase`, keep `super("sdd-cockpit")` with comment, rename export |
| `package.json` | Modify | US4 | `"name": "spec-ops"` |
| `CLAUDE.md` | Modify | US3 | Header: `# spec-ops Development Guidelines`, update `(001-sdd-cockpit)` references to `(001-spec-ops-core)` |
| `README.md` | Modify | US3 | Title: `# SpecOps`, update all name references, align with spec-kit methodology |
| `specs/001-sdd-cockpit/plan.md` | Modify | US3 | Title and text references |
| `specs/001-sdd-cockpit/data-model.md` | Modify | US3 | Title and text references |
| `specs/001-sdd-cockpit/quickstart.md` | Modify | US3 | Title, text references, clone example |
| `specs/001-sdd-cockpit/research.md` | Modify | US3 | Title and text references |
| `specs/001-sdd-cockpit/tasks.md` | Modify | US3 | Title and text references |
| `specs/001-sdd-cockpit/contracts/indexeddb-schema.md` | Modify | US3 | DB name comment |
| `specs/011-spec-score/quickstart.md` | Modify | US3 | "SDD Cockpit" text reference |
| `package-lock.json` | Auto | US4 | Regenerated by `npm install` |
