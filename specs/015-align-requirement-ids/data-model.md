# Data Model: Align Requirement Identifiers

**Branch**: `015-align-requirement-ids` | **Date**: 2026-02-23

## Overview

This feature does not introduce new entities or modify the database schema. It changes the **format** of requirement identifiers generated by AI prompts and parsed by evaluation/traceability logic.

## Affected Data Formats

### Requirement Identifier (display format)

| Property | Old Format | New Format |
|----------|-----------|------------|
| Functional requirement label | `REQ-1`, `REQ-2`, ... `REQ-N` | `FR-001`, `FR-002`, ... `FR-NNN` |
| Non-functional requirement label | `NFR-1`, `NFR-2`, ... `NFR-N` | `NFR-001`, `NFR-002`, ... `NFR-NNN` |
| Markdown bold format | `**REQ-1**: description` | `**FR-001**: description` |
| NFR markdown bold format | `**NFR-1**: description` | `**NFR-001**: description` |

### Requirement Identifier (internal ID format)

| Property | Old Format | New Format |
|----------|-----------|------------|
| Functional requirement ID | `req-1`, `req-2` | `fr-001`, `fr-002` |
| Non-functional requirement ID | (not parsed separately) | `nfr-001`, `nfr-002` |

### TraceabilityMapping (existing entity â€” format change only)

The `requirementId` and `requirementLabel` fields in `TraceabilityMapping` will use the new format for newly generated mappings:

| Field | Old Value Example | New Value Example |
|-------|-------------------|-------------------|
| `requirementId` | `"req-1"` | `"fr-001"` |
| `requirementLabel` | `"REQ-1: WHEN the user..."` | `"FR-001: WHEN the user..."` |

**No schema migration needed.** Existing mappings with old-format IDs remain valid. The parsing logic handles both formats.

## Validation Rules

| Rule | Description |
|------|-------------|
| Zero-padding | Numbers MUST be zero-padded to three digits (001, 002, ..., 999) |
| Sequential numbering | Numbers MUST start at 001 and increment by 1 |
| Case sensitivity | Display format uses uppercase (`FR-001`); internal IDs use lowercase (`fr-001`) |
| Parsing tolerance | Parsers MUST accept both padded (`FR-001`) and unpadded (`FR-1`) input, normalizing to padded form |
